# AES-CBC LoRa ESP32
LoRa PPP communication with payload encryption using AES-CBC via API of mbedTLS
Compatible with ESP32 microcontrollers and LoRa modules (SX127X)

# Hardware
* Sender: Lolin32
* Receiver: ESP32-C6 (XIAO)

# AES key
* Both devices has the same AES encryption / descryption 256-bit key

# Structure of data
* 17 bytes of data (double, double, byte - mapped as 24 bytes in memory) to demonstrate also padding via PKCS#7 to get 2 blocks (32 B in total)
* CBC with XOR of IV and first block and then XOR of ciphertext with next block open text

# Payload structure
* First 16 bytes is IV in plaintext which is generated by sender
* Next 32 bytes are encrypted data - ciphertext sent by sender

# Receiver
* Validation if packet is longer than IV
* IV is parsed, then rest of the ciphertext is decrypted
* And we have the original data parsed
* Firmware demonstrates also the different ciphertext for the identical payload due of XOR operations and IV generated by RNG on sender side
